# 🏰 Ludic Deep Reader (智识法典)

> **"让深度阅读成为一场英雄史诗般的求索。"**

Ludic Deep Reader 是一款基于莫提默·艾德勒《如何阅读一本书》方法论开发的**游戏化深度阅读工具**。它将复杂的非虚构类阅读转化为 RPG 风格的冒险，通过本地 AI 技术验证读者的理解力。

---

## 🛠️ 功能实现进度 (Feature Roadmap)

### ✅ 核心引擎 (Core Engine)

- **本地语义智能 (Local AI)**：全面集成 `@huggingface/transformers`，使用 `all-MiniLM-L6-v2` 模型实现 100% 本地化的文本向量化。
- **向量检索系统**：基于 `vectra` 构建轻量级本地向量数据库，支持基于概念的语义对齐验证。
- **持久化层**：基于 JSON 的轻量级数据库（`db_operations.js`），支持书籍元数据、章节分块及游戏进度的稳健存储。

### ✅ 游戏化系统 (Gamification)

- **四阶段求索架构**：完整实现了检视(Scouting)、狩猎(Hunting)、炼金(Alchemy)、审判(Judgment) 四大求索阶段的逻辑跳转。
- **动态任务生成**：根据当前章节内容语义动态生成匹配当前阶段的“阅读任务”。
- **数值系统**：实现了 XP 经验体系（带 Combo 连击加成）、Mana 专注力消耗机制以及动态难度调整 (DDA)。
- **视觉奖励 (Vision System)**：支持基于理解内容的 AI 图像生成提示词及“智识幻境”收集系统。

### ✅ 交互与 UI (Interactive UI)

- **Rich Markdown 渲染**：专为聊天界面优化的富文本 UI，包括任务卡片、XP/Mana 进度条及控制台 Dashboard。
- **精度导航 (Precision Navigation)**：实现了针对 Markdown 文档的**行号自动定位技术**，生成的 `file:///` 链接支持直达具体行（#L anchor）。
- **智识碎片 (Wisdom Shards)**：支持相关性上下文扩展显示，帮助读者快速找回阅读记忆。

### ⏳ 后续开发规划 (Roadmap)

- [ ] **集成 MCP 服务**：开发专属 MCP 插件，支持检索用户感兴趣的任意书籍。
- [ ] **书籍源探测**：自动识别并匹配书籍的公开、合法可下载链接。
- [ ] **多书籍管理系统**：强化多主线并行的阅读管理，确保每本书籍的数据、向量索引、幻境档案均实现物理隔离存储。
- [ ] **求索总结导出**：当通关一本书的所有求索任务（Phase 1-4）后，支持一键导出包含术语表、命题图谱及个人见解的完整“求索报告”文档。

---

## 🏗️ 架构概览

- **导入管线**：EPUB → Markdown 语义切分 → 向量化保存。
- **验证循环**：用户回答 → 语义相似度计算 → 判定 verdict (valid/partial/invalid) → 数值奖励。

---

## 📜 守望者寄语 (Keeper's Note)

*“逻辑的骨架已搭建完毕，真理的猎场正等待着求索者的降临。”*